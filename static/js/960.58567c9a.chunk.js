"use strict";(self.webpackChunksmart_finance=self.webpackChunksmart_finance||[]).push([[960],{9420:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(4165),a=t(5861),s=t(9439),c=t(2791),o=t(8687),i=t(6599),u=t.n(i),l=(t(9293),t(5688)),d=t(7320),f=t(6129),_="_balance_formBalance__1+4gv",p="_balance_input__DgSyp",m="_balance_btn__7RO-D",h="_balance_label__8VxD-",x="_balance_inputBox__xsFEr",v=t(184);var j=(0,o.$j)((function(e){return{userId:(0,d.n5)(e),currentBalance:(0,d.sb)(e)}}),(function(e){return{sendData:function(n){return e((0,f.F)(n))}}}))((function(e){var n=e.userId,t=e.sendData,o=e.currentBalance,i=(0,c.useState)(o),d=(0,s.Z)(i,2),f=d[0],j=d[1],N=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s={id:n,balance:f},e.next=4,t(s);case 4:u()(l.ST).showToast();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){j(o)}),[o]),(0,v.jsxs)("form",{className:_,onSubmit:N,children:[(0,v.jsx)("label",{className:h,children:"Balance:"}),(0,v.jsxs)("div",{className:x,children:[(0,v.jsx)("input",{className:p,name:"balance",value:f,placeholder:"Balance",onChange:function(e){j(e.target.value)}}),(0,v.jsx)("button",{className:m,children:"CONFIRM"})]})]})}))},3960:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var r=t(9439),a=t(2791),s=t(7689),c=t(1087),o=t(8687),i=t(9420),u=function(e){return e.reports.totalExpenses},l=function(e){return e.reports.totalIncomes},d=function(e){return e.reports.expensesReports},f=function(e){return e.reports.incomesReports},_=t(9297),p="_reportsList_navLink__q87+I",m="_reportsList_text__IacLk",h="_reportsList_categoriesList__7ORig",x="_reportsList_item__dwonQ",v=t(184);var j=(0,o.$j)((function(e){return{expensesReports:d(e),incomesReports:f(e)}}))((function(e){var n,t,s,o=e.year,i=e.month,u=e.type,l=e.expensesReports,d=e.incomesReports,f=(0,a.useState)(null===(n=l.find((function(e){return e[0]===o})))||void 0===n||null===(t=n[1])||void 0===t||null===(s=t.find((function(e){return e[0]===i})))||void 0===s?void 0:s[1]),j=(0,r.Z)(f,2),N=j[0],g=j[1];return(0,a.useEffect)((function(){var e,n,t;if("EXPENSES"===u){var r,a,s,c=null===(r=l.find((function(e){return e[0]===o})))||void 0===r||null===(a=r[1])||void 0===a||null===(s=a.find((function(e){return e[0]===i})))||void 0===s?void 0:s[1];return g(c)}var f=null===(e=d.find((function(e){return e[0]===o})))||void 0===e||null===(n=e[1])||void 0===n||null===(t=n.find((function(e){return e[0]===i})))||void 0===t?void 0:t[1];return g(f)}),[o,i,u]),(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("ul",{className:h,children:void 0!==N?Object.entries(N).map((function(e){var n=e[0];return(0,v.jsx)("li",{id:e[0],className:x,children:(0,v.jsxs)(c.OL,{to:"".concat(n),className:p,children:[(0,v.jsxs)("span",{children:[e[1]," PLN"]}),(0,v.jsx)(_.Z,{name:e[0]}),e[0].toUpperCase()]})},e[0])})):(0,v.jsx)("p",{className:m,children:"You don't have ".concat(u.toLowerCase()," this month")})})})})),N="_totalAmounts_div2__xdbuA",g="_totalAmounts_name__-Y3W+",b="_totalAmounts_span__asqtl";var S=(0,o.$j)((function(e){return{totalAmountExp:u(e),totalAmountInc:l(e)}}))((function(e){var n=e.currentYear,t=e.totalAmountExp,s=e.totalAmountInc,c=(0,a.useState)(t.find((function(e){return e[0]===n}))?t.find((function(e){return e[0]===n}))[1]:0),o=(0,r.Z)(c,2),i=o[0],u=o[1],l=(0,a.useState)(s.find((function(e){return e[0]===n}))?s.find((function(e){return e[0]===n}))[1]:0),d=(0,r.Z)(l,2),f=d[0],_=d[1];return(0,a.useEffect)((function(){n.toString().length<4||(u(t.find((function(e){return e[0]===n}))?t.find((function(e){return e[0]===n}))[1]:0),_(s.find((function(e){return e[0]===n}))?s.find((function(e){return e[0]===n}))[1]:0))}),[n,t,s]),(0,v.jsxs)("div",{className:N,children:[(0,v.jsxs)("p",{className:g,children:["Expenses:",(0,v.jsxs)("span",{className:b,children:[0!==i?"- ".concat(i):i," ","PLN"]})]}),(0,v.jsx)("svg",{width:"2",height:"36",viewBox:"0 0 2 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:"M1 0V36",stroke:"rgba(78,78,78,0.575)"})}),(0,v.jsxs)("p",{className:g,children:["Incomes:",(0,v.jsxs)("span",{className:b,children:[0!==f?"+ ".concat(f):f," ","PLN"]})]})]})})),w=t(7320),y=t(4165),Z=t(5861),E=t(8049),C=t(1243);C.Z.defaults.baseURL="https://sfbackend-1-q4339617.deta.app/";var P=t(9869);function k(e,n){var t=(0,a.useState)((function(){if("undefined"===typeof window)return n;try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(r){return console.log(r),n}})),s=(0,r.Z)(t,2),c=s[0],o=s[1];return[c,function(n){try{var t=n instanceof Function?n(c):n;o(t),"undefined"!==typeof window&&window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log(r)}}]}var I=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["2021","2022","2023"],B="_dateSelector_dropdownMenu__e8m1m",A="_dateSelector_menuTitle__IjYKt",M="_dateSelector_select__U3-Ms",R="_dateSelector_option__YSWL7",Y="_dateSelector_form__0Khbm",D="_dateSelector_year__dj+uO",O="_dateSelector_month__f-uNM";var F=function(e){var n=e.handleChangeCurrentYear,t=e.handleChangeCurrentMonth,s=k("reportsCurrentYear",[(new Date).getFullYear()]),c=(0,r.Z)(s,2),o=c[0],i=c[1],u=k("reportsCurrentMonth",[I[(new Date).getMonth()]]),l=(0,r.Z)(u,2),d=l[0],f=l[1];return(0,a.useEffect)((function(){n(o[0])}),[o]),(0,a.useEffect)((function(){t(d[0])}),[d]),(0,v.jsxs)("form",{className:Y,children:[(0,v.jsxs)("div",{className:"".concat(B," ").concat(D),children:[(0,v.jsx)("h3",{className:A,children:o}),(0,v.jsx)("select",{multiple:!0,value:o,label:"year",name:"year",onChange:function(e){i([e.target.value])},className:M,required:!0,children:L.map((function(e){return(0,v.jsx)("option",{value:e,className:R,children:e},e)}))})]}),(0,v.jsxs)("div",{className:"".concat(B," ").concat(O),children:[(0,v.jsx)("h3",{className:A,children:d}),(0,v.jsx)("select",{multiple:!0,value:d,label:"month",name:"month",onChange:function(e){f([e.target.value])},className:M,required:!0,children:I.map((function(e){return(0,v.jsx)("option",{value:e,className:R,children:e},e)}))})]})]})},T=t(1553),q={reportsBox:"_reportsPage_reportsBox__LNPIW",transactionName:"_reportsPage_transactionName__mVvSe",btnNext:"_reportsPage_btnNext__qP7eQ",link:"_reportsPage_link__mdz5f",section:"_reportsPage_section__SYJhK",div1:"_reportsPage_div1__y00Ww",transactionTypeBox:"_reportsPage_transactionTypeBox__Wan7I"};var J=(0,o.$j)((function(e){return{loading:(0,w.vc)(e),isAuthenticated:(0,P.j3)(e)}}),(function(e){return{fetchReports:function(){return e(function(){var e=(0,Z.Z)((0,y.Z)().mark((function e(n){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,E.s_)()),e.next=3,C.Z.get("api/transactions/reports").then((function(e){var t=e.data;return n((0,E.iS)(t))})).catch((function(e){return n((0,E.Pw)(e))}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}}}))((function(e){var n=e.loading,t=e.fetchReports,o=e.isAuthenticated,u=k("currentTransactionsType","EXPENSES"),l=(0,r.Z)(u,2),d=l[0],f=l[1],p=(0,a.useState)((new Date).getFullYear()),m=(0,r.Z)(p,2),h=m[0],x=m[1],N=(0,a.useState)(I[(new Date).getMonth()]),g=(0,r.Z)(N,2),b=g[0],w=g[1],y=(0,s.s0)();(0,a.useEffect)((function(){return y(o?"/reports/".concat(d,"/").concat(h,"/").concat(b):"/login",{replace:!0})}),[d,h,b]),(0,a.useEffect)((function(){o&&t()}),[]);var Z=function(){f("EXPENSES"===d?"INCOMES":"EXPENSES")};return(0,v.jsxs)("section",{className:q.section,children:[(0,v.jsxs)("div",{className:q.div1,children:[(0,v.jsxs)(c.rU,{to:"/transactions",className:q.link,children:[(0,v.jsx)(_.Z,{name:"arrow go back"})," Transactions"]}),(0,v.jsx)(i.Z,{}),(0,v.jsx)(F,{handleChangeCurrentYear:function(e){return x(e)},handleChangeCurrentMonth:function(e){return w(e)}})]}),(0,v.jsx)(S,{currentYear:Number(h)}),n?(0,v.jsx)("div",{className:q.loaderBox,children:(0,v.jsx)(T.Z,{})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:q.reportsBox,children:[(0,v.jsxs)("div",{className:q.transactionTypeBox,children:[(0,v.jsx)("button",{className:q.btnNext,onClick:Z,children:(0,v.jsx)(_.Z,{name:"Vector left"})}),(0,v.jsx)("p",{className:q.transactionName,children:d}),(0,v.jsx)("button",{className:q.btnNext,onClick:Z,children:(0,v.jsx)(_.Z,{name:"Vector right"})})]}),(0,v.jsx)(s.Z5,{children:(0,v.jsx)(s.AW,{path:":type/:year/:month/*",element:(0,v.jsx)(j,{year:Number(h),month:b,type:d})})})]})}),(0,v.jsx)(s.j3,{})]})}))}}]);
//# sourceMappingURL=960.58567c9a.chunk.js.map